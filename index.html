<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2563eb"/>
    <meta name="description" content="Sureway Integrated Technology Solutions - Building Africa's digital infrastructure for commerce and mobility.">
    <title>Sureway Integrated Technology Solutions</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🚀</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🚀</text></svg>">
    
    <!-- Manifest -->
    <link rel="manifest" id="dynamic-manifest" href="#">
    
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #10b981;
            --accent: #f59e0b;
            --dark: #1f2937;
            --darker: #111827;
            --light: #f3f4f6;
            --lighter: #f9fafb;
            --danger: #ef4444;
            --success: #10b981;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }

        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; 
            line-height: 1.6; 
            color: var(--dark);
            background: linear-gradient(135deg, var(--lighter) 0%, #ffffff 100%);
            min-height: 100vh;
        }

        .container { 
            width: 90%; 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 20px; 
        }

        /* Header & Navigation */
        header { 
            background: var(--darker); 
            color: white; 
            padding: 1rem 0; 
            position: sticky; 
            top: 0; 
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        nav { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        }

        .logo { 
            font-size: 1.8rem; 
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links { 
            display: flex; 
            list-style: none; 
            gap: 2rem;
        }

        .nav-links a { 
            color: white; 
            text-decoration: none; 
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 5px;
        }

        .nav-links a:hover { 
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero { 
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            color: white; 
            padding: 6rem 0; 
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="white" opacity="0.2"/><circle cx="50" cy="50" r="2" fill="white" opacity="0.2"/><circle cx="80" cy="80" r="2" fill="white" opacity="0.2"/></svg>');
            background-size: 200px 200px;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 { 
            font-size: 3.5rem; 
            margin-bottom: 1.5rem;
            font-weight: 800;
            line-height: 1.2;
        }

        .hero p { 
            font-size: 1.3rem; 
            margin-bottom: 2.5rem;
            opacity: 0.95;
        }

        .btn { 
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--secondary); 
            color: white; 
            padding: 1rem 2.5rem; 
            border-radius: 50px; 
            text-decoration: none; 
            font-weight: 600; 
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .btn:hover { 
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid white;
            box-shadow: none;
        }

        .btn-outline:hover {
            background: white;
            color: var(--primary);
        }

        /* Sections */
        .section { 
            padding: 5rem 0; 
        }

        .section-title { 
            text-align: center; 
            margin-bottom: 3rem; 
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--darker);
        }

        .section-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: var(--dark);
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto 3rem;
        }

        /* Services Grid */
        .services { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
            gap: 2.5rem; 
            margin-top: 3rem;
        }

        .service-card { 
            background: white; 
            padding: 2.5rem; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08); 
            text-align: center; 
            transition: all 0.3s ease;
            border: 1px solid rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .service-card:hover { 
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
        }

        .service-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .service-card h3 { 
            color: var(--primary); 
            margin-bottom: 1rem; 
            font-size: 1.5rem;
        }

        .service-card p { 
            color: var(--dark);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        /* Stats Section */
        .stats {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            color: white;
            padding: 4rem 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            text-align: center;
        }

        .stat-item h3 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #fff, #e0f2fe);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* About Section */
        .about-content {
            max-width: 1000px;
            margin: 0 auto;
        }

        .about-content ul {
            list-style: disc;
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        .about-content a {
            color: var(--primary);
            text-decoration: none;
        }

        .about-content a:hover {
            text-decoration: underline;
        }

        /* Contact Section */
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin-top: 2rem;
        }

        .contact-info {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }

        .contact-info h3 {
            color: var(--primary);
            margin-bottom: 1.5rem;
        }

        .contact-detail {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .contact-icon {
            font-size: 1.5rem;
            color: var(--primary);
        }

        /* Modal */
        .modal { 
            display: none; 
            position: fixed; 
            z-index: 1000; 
            left: 0; 
            top: 0; 
            width: 100%; 
            height: 100%; 
            background-color: rgba(0,0,0,0.7);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content { 
            background-color: white; 
            margin: 10% auto; 
            padding: 2.5rem; 
            border-radius: 15px; 
            width: 90%; 
            max-width: 500px; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            animation: slideIn 0.3s ease;
            position: relative;
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close { 
            color: #aaa; 
            float: right; 
            font-size: 28px; 
            font-weight: bold; 
            cursor: pointer;
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            transition: color 0.3s;
        }

        .close:hover { 
            color: var(--danger);
        }

        /* Forms */
        form { 
            display: flex; 
            flex-direction: column; 
            gap: 1rem;
        }

        input, textarea, select { 
            padding: 1rem; 
            border: 2px solid #e5e7eb; 
            border-radius: 8px; 
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        /* Status Messages */
        #status, #formStatus { 
            padding: 1rem; 
            margin: 1rem 0; 
            border-radius: 8px; 
            display: none; 
            animation: slideIn 0.3s ease;
        }

        .success { 
            background-color: #d1fae5; 
            color: #065f46; 
            border: 1px solid #a7f3d0;
        }

        .error { 
            background-color: #fee2e2; 
            color: #991b1b; 
            border: 1px solid #fca5a5;
        }

        /* Footer */
        footer {
            background: var(--darker);
            color: white;
            padding: 3rem 0 2rem;
            margin-top: 4rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; }
            .nav-links { display: none; }
            .services { grid-template-columns: 1fr; }
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .contact-grid { grid-template-columns: 1fr; }
        }

        /* Install Prompt */
        #installPrompt {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
            animation: slideIn 0.3s ease;
            border-left: 4px solid var(--primary);
        }

        #installPrompt button {
            margin-top: 0.5rem;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <div class="logo">SUREWAY</div>
            <ul class="nav-links">
                <li><a href="#solutions">Solutions</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#" id="installLink">Install App</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <div class="container hero-content">
            <h1>Integrated Technology for Africa's Future</h1>
            <p>Building smart platforms that enhance fuel access, streamline logistics, and enable seamless cross-border transactions for businesses across Africa.</p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <a href="#" class="btn" id="joinBtn">Join Pilot Program</a>
                <a href="#solutions" class="btn btn-outline">Explore Solutions</a>
            </div>
        </div>
    </section>

    <section class="stats">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-item">
                    <h3 id="waitlistCount">500+</h3>
                    <p>Businesses on Waitlist</p>
                </div>
                <div class="stat-item">
                    <h3>3</h3>
                    <p>Integrated Platforms</p>
                </div>
                <div class="stat-item">
                    <h3>15+</h3>
                    <p>Industry Partners</p>
                </div>
                <div class="stat-item">
                    <h3>100%</h3>
                    <p>Cloud Native</p>
                </div>
            </div>
        </div>
    </section>

    <section id="solutions" class="section">
        <div class="container">
            <h2 class="section-title">Our Integrated Ecosystem</h2>
            <p class="section-subtitle">Three powerful platforms working together to transform African commerce and mobility</p>
            
            <div class="services">
                <div class="service-card">
                    <div class="service-icon">⛽</div>
                    <h3>Smart Fuel Africa</h3>
                    <p>Revolutionizing fuel access with our digital platform that allows businesses to pre-book, pre-pay, and manage fuel consumption across partnered stations.</p>
                    <p><strong>Key Features:</strong> Real-time inventory, bulk pricing, digital vouchers, PAPSS integration for cross-border payments.</p>
                    <a href="#" class="btn project-join" data-project="smartfuel">Join Waitlist</a>
                </div>

                <div class="service-card">
                    <div class="service-icon">💳</div>
                    <h3>SurePay</h3>
                    <p>Low-cost, hardware-enabled instant payment confirmation system that provides auditory and visual transaction alerts for merchants.</p>
                    <p><strong>Key Features:</strong> IoT soundbox device, multi-bank support, fraud detection, white-label solutions for financial institutions.</p>
                    <a href="#" class="btn project-join" data-project="surepay">Join Waitlist</a>
                </div>

                <div class="service-card">
                    <div class="service-icon">🚛</div>
                    <h3>Cargo Connect</h3>
                    <p>Direct logistics platform connecting certified truck owners with major manufacturers and goods owners, eliminating costly intermediaries.</p>
                    <p><strong>Key Features:</strong> Blockchain verification, smart contracts, real-time tracking, compliance management with Road Safety and VIO.</p>
                    <a href="#" class="btn project-join" data-project="cargo">Join Waitlist</a>
                </div>
            </div>
        </div>
    </section>

    <section id="about" class="section" style="background-color: var(--lighter);">
        <div class="container">
            <h2 class="section-title">About Sureway</h2>
            <p class="section-subtitle">Building the Digital Infrastructure for Africa's Economic Revolution</p>

            <div class="about-content">
                <!-- Executive Summary -->
                <div class="service-card" style="text-align: left;">
                    <h3>Our Vision</h3>
                    <p>To become the leading integrated technology ecosystem that powers seamless trade, finance, and mobility across Africa, breaking down barriers and unlocking unprecedented economic growth for millions of businesses and individuals.</p>
                    <br>
                    <h3>Our Mission</h3>
                    <p>Sureway Integrated Technology Solutions Ltd. is on a mission to solve Africa's most critical infrastructural challenges—inefficient payments, fragmented logistics, and limited energy access—by building smart, mobile-first platforms. We leverage cutting-edge cloud infrastructure, IoT, and AI to create a connected ecosystem where commerce flows freely, empowered by the frameworks of the <strong>African Continental Free Trade Area (AfCFTA)</strong> and settled instantly through the <strong>Pan-African Payment and Settlement System (PAPSS)</strong>.</p>
                    <br>
                    <p>We are not just a technology company; we are architects of Africa's digital future, building the rails for a truly integrated continental economy.</p>
                </div>

                <!-- CEO Bio -->
                <div class="service-card" style="text-align: left; margin-top: 2rem;">
                    <h3>Leadership: Abdulazeez Yusuf, Founder & CEO</h3>
                    <p>Abdulazeez Yusuf is a visionary technologist and builder with a unique background in Shariah and Common Law, giving him a profound understanding of the regulatory and ethical frameworks essential for pan-African operations.</p>
                    <br>
                    <p>He is a dedicated lifelong learner, consistently at the forefront of technology:</p>
                    <ul>
                        <li>Alumni of the <strong>BSV Academy</strong> and <strong>BSTUD Althash University</strong> (Blockchain Technology).</li>
                        <li>Badge and Trophy Earner in <strong>Microsoft Azure Cloud and Monitoring Alert</strong>.</li>
                        <li>Official Attendee of <strong>Microsoft Build Digital 2025</strong> (Ref: 117847059).</li>
                        <li>Registered Attendee for the upcoming <strong>Microsoft Ignite Digital</strong> (Ref: 119365694).</li>
                        <li><strong>Cisco Networking Academy IoT Badge</strong> Earner.</li>
                        <li>Currently a <strong>3MTT Cohort 3 Fellow</strong> in Data Analysis and Visualization.</li>
                        <li>Currently enrolled in <strong>AI Digital Automation with MAKE</strong>.</li>
                    </ul>
                    <p>His technical expertise, combined with a deep passion for solving Africa's core challenges, drives Sureway's innovative and pragmatic approach to building solutions that are not only technologically superior but also contextually relevant and scalable across the continent.</p>
                    <br>
                    <p><strong>Connect with Abdulazeez:</strong><br>
                    Email: <a href="mailto:sureways739@gmail.com">sureways739@gmail.com</a><br>
                    Phone: <a href="tel:+2348152676740">+2348152676740</a><br>
                    Company PWA: <a href="https://sureways739-art.github.io/Sureway73/" target="_blank">https://sureways739-art.github.io/Sureway73/</a>
                    </p>
                </div>

                <!-- Why We Are Unbeatable -->
                <div class="service-card" style="text-align: left; margin-top: 2rem;">
                    <h3>The Sureway Advantage: Why We Are Unbeatable</h3>
                    <p>Our strategy is built on three pillars that competitors cannot easily replicate:</p>
                    <br>
                    <p><strong>1. Deep Regulatory Foresight:</strong> Our foundational understanding of law and active engagement with bodies like PAPSS ensures our solutions are built for compliance and seamless cross-border operation from day one.</p>
                    <br>
                    <p><strong>2. Integrated Ecosystem Approach:</strong> While others build point solutions, we are building a synergistic network. Our three platforms (SurePay, Smart Fuel Africa, Cargo Connect) create a powerful feedback loop, locking in users and creating an unbreakable moat.</p>
                    <br>
                    <p><strong>3. World-Class Technical Execution:</strong> Our commitment to mastering the world's leading cloud and AI technologies (through continuous certification and training) ensures we build with the highest standards of security, scalability, and innovation, right here in Africa.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="section">
        <div class="container">
            <h2 class="section-title">Get In Touch</h2>
            <p class="section-subtitle">Ready to transform your business? Let's discuss how our integrated solutions can work for you.</p>
            
            <div class="contact-grid">
                <div class="contact-info">
                    <h3>Contact Information</h3>
                    <div class="contact-detail">
                        <div class="contact-icon">📧</div>
                        <div>
                            <strong>Email</strong><br>
                            <a href="mailto:sureways739@gmail.com">sureways739@gmail.com</a>
                        </div>
                    </div>
                    <div class="contact-detail">
                        <div class="contact-icon">📱</div>
                        <div>
                            <strong>Phone</strong><br>
                            <a href="tel:+2348152676740">+234 815 267 6740</a>
                        </div>
                    </div>
                    <div class="contact-detail">
                        <div class="contact-icon">🏢</div>
                        <div>
                            <strong>Company</strong><br>
                            Sureway Integrated Technology Solutions Ltd.<br>
                            RC 8481374
                        </div>
                    </div>
                    <div class="contact-detail">
                        <div class="contact-icon">🌐</div>
                        <div>
                            <strong>Website</strong><br>
                            <a href="https://sureways739-art.github.io/Sureway73/" target="_blank">Sureway PWA</a>
                        </div>
                    </div>
                </div>

                <!-- Waiting List Form -->
                <div class="service-card">
                    <h3>Join the Smart Fuel Africa Waiting List</h3>
                    <p>Be the first to get access. Sign up below.</p>
                    <form id="waitingListForm">
                        <input type="text" id="waitingName" name="name" placeholder="Your Full Name" required>
                        <input type="email" id="waitingEmail" name="email" placeholder="Your Email Address" required>
                        <input type="tel" id="waitingPhone" name="phone" placeholder="Your Phone Number" required>
                        <select id="waitingRole" name="role" required>
                            <option value="">-- Select Your Role --</option>
                            <option value="driver">Truck Driver/Owner</option>
                            <option value="fleet">Fleet Manager</option>
                            <option value="station">Fuel Station Owner</option>
                            <option value="other">Other</option>
                        </select>
                        <button type="submit" class="btn">Join Waiting List</button>
                    </form>
                    <div id="formStatus" style="display:none; margin-top:1rem; padding:1rem; border-radius:5px;"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Waitlist Modal -->
    <div id="waitlistModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Join Our Pilot Program</h2>
            <p>Be among the first to experience <span id="projectName" style="color: var(--primary); font-weight: 600;"></span></p>
            <div id="status"></div>
            <form id="waitlistFormModal">
                <input type="hidden" id="projectInput" name="project">
                <input type="text" id="name" name="name" placeholder="Full Name" required>
                <input type="email" id="email" name="email" placeholder="Business Email" required>
                <input type="tel" id="phone" name="phone" placeholder="Phone Number" required>
                <input type="text" id="company" name="company" placeholder="Company Name" required>
                <select id="sector" name="sector" required>
                    <option value="">Select Industry Sector</option>
                    <option value="logistics">Logistics & Transportation</option>
                    <option value="manufacturing">Manufacturing</option>
                    <option value="retail">Retail & Commerce</option>
                    <option value="energy">Energy & Petroleum</option>
                    <option value="other">Other</option>
                </select>
                <textarea id="message" name="message" placeholder="Tell us about your specific needs or challenges" rows="3"></textarea>
                <button type="submit" class="btn">Request Early Access</button>
            </form>
        </div>
    </div>

    <!-- Install Prompt -->
    <div id="installPrompt">
        <p>📱 Install Sureway App for better experience</p>
        <button id="installButton" class="btn">Install Now</button>
        <button id="dismissInstall" style="margin-left: 0.5rem; background: transparent; border: none; color: var(--dark); cursor: pointer;">Dismiss</button>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div>
                    <h3>Sureway Integrated Technology Solutions Ltd</h3>
                    <p>RC 8481374<br>Transforming African commerce through integrated technology solutions</p>
                </div>
                <div>
                    <h3>Connect</h3>
                    <p>Email: sureways739@gmail.com<br>Phone: +2348152676740</p>
                </div>
                <div>
                    <h3>Explore</h3>
                    <p><a href="#solutions" style="color: white;">Our Solutions</a><br>
                    <a href="#about" style="color: white;">About Us</a><br>
                    <a href="#contact" style="color: white;">Contact</a></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Sureway Integrated Technology Solutions. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // ===== DOM Elements =====
        const modal = document.getElementById('waitlistModal');
        const closeBtn = document.getElementsByClassName('close')[0];
        const projectNameSpan = document.getElementById('projectName');
        const projectInput = document.getElementById('projectInput');
        const waitingListForm = document.getElementById('waitingListForm');
        const waitlistFormModal = document.getElementById('waitlistFormModal');
        const statusDiv = document.getElementById('status');
        const formStatus = document.getElementById('formStatus');
        const joinButtons = document.querySelectorAll('.project-join, #joinBtn');
        const installPrompt = document.getElementById('installPrompt');
        const installButton = document.getElementById('installButton');
        const dismissInstall = document.getElementById('dismissInstall');
        const installLink = document.getElementById('installLink');
        const waitlistCount = document.getElementById('waitlistCount');

        // ===== Global Variables =====
        let deferredPrompt = null;
        const WAITLIST_KEY = 'sureway_waitlist_count';
        const USER_ID_KEY = 'sureway_user_id';

        // ===== Service Worker Registration =====
        if ('serviceWorker' in navigator) {
            const swCode = `
                const CACHE_NAME = 'sureway-v1';
                const urlsToCache = [
                    '/',
                    '/styles/main.css',
                    '/script/app.js'
                ];

                self.addEventListener('install', (event) => {
                    console.log('[Service Worker] Installing');
                    event.waitUntil(
                        caches.open(CACHE_NAME)
                            .then((cache) => {
                                return cache.addAll(urlsToCache);
                            })
                    );
                });

                self.addEventListener('fetch', (event) => {
                    event.respondWith(
                        caches.match(event.request)
                            .then((response) => {
                                if (response) {
                                    return response;
                                }
                                return fetch(event.request);
                            }
                        )
                    );
                });

                self.addEventListener('activate', (event) => {
                    console.log('[Service Worker] Activated');
                });
            `;

            const blob = new Blob([swCode], { type: 'application/javascript' });
            const swUrl = URL.createObjectURL(blob);

            window.addEventListener('load', () => {
                navigator.serviceWorker.register(swUrl)
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((error) => {
                        console.log('SW registration failed: ', error);
                    });
            });
        }

        // ===== Dynamic Web App Manifest =====
        const manifestData = {
            "name": "Sureway Integrated Tech",
            "short_name": "Sureway",
            "description": "Integrated technology solutions for Africa's commerce and mobility",
            "start_url": "/",
            "display": "standalone",
            "background_color": "#2563eb",
            "theme_color": "#2563eb",
            "orientation": "portrait-primary",
            "icons": [
                {
                    "src": "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%232563eb' rx='20'/><text x='50' y='65' font-family='Arial' font-size='40' fill='white' text-anchor='middle'>S</text></svg>",
                    "sizes": "192x192",
                    "type": "image/svg+xml"
                },
                {
                    "src": "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%232563eb' rx='20'/><text x='50' y='65' font-family='Arial' font-size='40' fill='white' text-anchor='middle'>S</text></svg>",
                    "sizes": "512x512",
                    "type": "image/svg+xml"
                }
            ],
            "categories": ["business", "productivity", "finance"],
            "lang": "en"
        };

        const manifestBlob = new Blob([JSON.stringify(manifestData, null, 2)], { type: 'application/json' });
        const manifestUrl = URL.createObjectURL(manifestBlob);
        document.getElementById('dynamic-manifest').href = manifestUrl;

        // ===== Install Prompt Handling =====
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installPrompt.style.display = 'block';
            
            // Show install link in navigation
            if (installLink) installLink.style.display = 'block';
        });

        if (installButton) {
            installButton.addEventListener('click', async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    if (outcome === 'accepted') {
                        console.log('User accepted the install prompt');
                    }
                    deferredPrompt = null;
                    installPrompt.style.display = 'none';
                }
            });
        }

        if (dismissInstall) {
            dismissInstall.addEventListener('click', () => {
                installPrompt.style.display = 'none';
            });
        }

        if (installLink) {
            installLink.addEventListener('click', (e) => {
                e.preventDefault();
                installPrompt.style.display = 'block';
            });
        }

        // ===== Waitlist Counter Animation =====
        function animateCounter(element, target, duration = 2000) {
            const start = parseInt(element.textContent) || 0;
            const increment = Math.ceil(target / (duration / 16));
            let current = start;

            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    element.textContent = target + '+';
                    clearInterval(timer);
                } else {
                    element.textContent = current + '+';
                }
            }, 16);
        }

        // ===== Form Handling =====
async function submitWaitlistForm(formData, isModal = false) {
    // Get the form data as a simple object
    const formDataObject = Object.fromEntries(formData);
    const webhookUrl = 'https://hook.us2.make.com/your_unique_webhook_here'; // You will change this later

    // Show a success message immediately to the user
    showStatus('✅ Thank you! You have been added to our waiting list. We will contact you shortly.', true, isModal);

    // Log the data to the console for now so you can see it's working
    console.log('Form submission captured:', formDataObject);

    // Save to localStorage as a backup
    const existing = JSON.parse(localStorage.getItem(WAITLIST_KEY) || '[]');
    existing.push({
        id: generateUserId(),
        timestamp: new Date().toISOString(),
        ...formDataObject
    });
    localStorage.setItem(WAITLIST_KEY, JSON.stringify(existing));

    // Update the counter
    const newCount = existing.length;
    localStorage.setItem('waitlist_count', newCount);
    animateCounter(waitlistCount, newCount);

    // Try to send the data to a Make.com webhook (more reliable)
    try {
        const response = await fetch(webhookUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formDataObject),
        });
        console.log('Data also sent to webhook successfully');
    } catch (error) {
        console.error('Error sending to webhook (but data is saved locally):', error);
    }
}
                }, 1500);
            });
        }

        function generateUserId() {
            let userId = localStorage.getItem(USER_ID_KEY);
            if (!userId) {
                userId = 'user_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem(USER_ID_KEY, userId);
            }
            return userId;
        }

        function showStatus(message, isSuccess = true, isModal = false) {
            const targetElement = isModal ? statusDiv : formStatus;
            targetElement.textContent = message;
            targetElement.className = isSuccess ? 'success' : 'error';
            targetElement.style.display = 'block';
            
            if (isSuccess) {
                if (isModal) {
                    setTimeout(() => {
                        modal.style.display = 'none';
                        statusDiv.style.display = 'none';
                    }, 3000);
                } else {
                    setTimeout(() => {
                        formStatus.style.display = 'none';
                    }, 3000);
                }
            }
        }

        // ===== Event Listeners =====
        if (joinButtons) {
            joinButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    const project = button.dataset.project || 'general';
                    const projectDisplayName = {
                        'smartfuel': 'Smart Fuel Africa',
                        'surepay': 'SurePay',
                        'cargo': 'Cargo Connect',
                        'general': 'Our Platform'
                    }[project];
                    
                    projectNameSpan.textContent = projectDisplayName;
                    projectInput.value = project;
                    modal.style.display = 'block';
                    statusDiv.style.display = 'none';
                });
            });
        }

        if (closeBtn) {
            closeBtn.onclick = () => modal.style.display = 'none';
        }

        window.onclick = (event) => {
            if (event.target === modal) modal.style.display = 'none';
        };

        if (waitingListForm) {
            waitingListForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const submitButton = waitingListForm.querySelector('button');
                const originalText = submitButton.textContent;
                
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting...';

                try {
                    const formData = new FormData(waitingListForm);
                    const result = await submitWaitlistForm(formData, false);
                    showStatus(result.message, result.status === 'success', false);
                    if (result.status === 'success') waitingListForm.reset();
                } catch (error) {
                    console.error('Error:', error);
                    showStatus('❌ Failed to submit. Please try again or contact us directly.', false, false);
                } finally {
                    submitButton.disabled = false;
                    submitButton.textContent = 'Join Waiting List';
                }
            });
        }

        if (waitlistFormModal) {
            waitlistFormModal.addEventListener('submit', async (e) => {
                e.preventDefault();
                const submitButton = waitlistFormModal.querySelector('button');
                const originalText = submitButton.textContent;
                
                submitButton.disabled = true;
                submitButton.textContent = 'Submitting...';

                try {
                    const formData = new FormData(waitlistFormModal);
                    const result = await submitWaitlistForm(formData, true);
                    showStatus(result.message, result.status === 'success', true);
                    if (result.status === 'success') waitlistFormModal.reset();
                } catch (error) {
                    console.error('Error:', error);
                    showStatus('❌ Failed to submit. Please try again or contact us directly.', false, true);
                } finally {
                    submitButton.disabled = false;
                    submitButton.textContent = 'Request Early Access';
                }
            });
        }

        // ===== Initialize App =====
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize waitlist counter
            const savedCount = localStorage.getItem('waitlist_count') || 523;
            if (waitlistCount) waitlistCount.textContent = savedCount + '+';

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            console.log('🚀 Sureway PWA Loaded Successfully');
            console.log('📧 Forms are stored in localStorage for demo purposes');
            console.log('🔧 Replace form functions with actual Google Cloud Function integration');
        });
    </script>
</body>
</html>
